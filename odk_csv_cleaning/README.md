# Clean Form CSVs

This script is meant to aid in the cleaning and merging of data from ODK-Form CSVs. 

clean_form_csvs.py handles one argument (after [file]) at a time, with an option to add -n/--name for a custom output name of a given file.

## Dependencies

* python2.7
* pandas

#### Instructions for installing python: 

* https://www.python.org/downloads/release/python-2714/
* https://www.howtogeek.com/197947/how-to-install-python-on-windows/
* https://askubuntu.com/questions/458061/how-do-i-install-python-through-the-terminal

#### Instructions for installing pip:

* https://pip.pypa.io/en/stable/installing/

#### Instructions for installing pandas:

* https://pandas.pydata.org/pandas-docs/stable/install.html#installing-from-pypi

## Steps

#### Making the script executable:

You can make the script name executable by running ```chmod +x clean_form_csvs.py``` and executing it using ```./clean_form_csvs.py```

#### Running the script without making it name executable:

```python clean_form_csvs.py <some argument>``` to call the script into action.

#### Directions

Start by prepping each CSV (or a directory of csvs), with the ```-p``` command. This properly formats the CSV for use in excel or elsewhere.

In order for each CSV to be opened in QGIS, use the ```-f``` (for fix lat/lon) or ```-bf``` (for batch fix lat/lon), in order to fix the latitude and longitude columns to regular standards.

For more help, run ```python clean_form_csvs.py --help```

#### Arguments

**positional arguments:**
  * ```file```                  Provide a csv file, or path to directory of csv's for
                        this argument

**optional arguments:**
  * ```-h```, ```--help```            show this help message and exit
  * ```-p```, ```--prepcsv```         **DO THIS FIRST!** Prep raw_csvs from Kobo for
                        processing.
  * ```-n```, ```--name```            Add a custom name for output file. This can be
                        combined with most other arguments.
  * ```-f```, ```--fixlatlon```       Fix Lat/Lon Column Names
  * ```-cw```, ```--cleanwhitespace```
                        Clean leading/trailing whitespace
  * ```-rc```, ```--removecolumn```   Remove columns with ALL empty values
  * ```-rf```, ```--removefield```    Remove non-osm columns
  * ```-rd```, ```--removeduplicates```
                        Remove duplicate columns generated by multiple choice
                        questions
  * ```-oc```, ```--osmconform```     Convert '_' in column headings to ':' as accepted by
                        osm
  * ```-brd```, ```--batchremoveduplicates```
                        Remove duplicate columns generated by multiple choice
                        questions. Provide full path for directories outside
                        your working directory. Provide '.' if your files are
                        in your current working directory.
  * ```-boc```, ```--batchosmconform```
                        Batch convert '_' in column headings to ':' as
                        accepted by osm. Provide full path for directories
                        outside your working directory. Provide '.' if your
                        files are in your current working directory.
  * ```-bcw```, ```--batchcleanwhitespace```
                        Batch clean leading/trailing whitespace. Provide full
                        path for directories outside your working directory.
                        Provide '.' if your files are in your current working
                        directory.
  * ```-brc```, ```--batchremovecolumn```
                        Batch remove columns with ALL empty values. Provide
                        full path for directories outside your working
                        directory. Provide '.' if your files are in your
                        current working directory.
  * ```-brf```, ```--batchremovefield```
                        Batch remove non-osm columns. Provide full path for
                        directories outside your working directory. Provide
                        '.' if your files are in your current working
                        directory.
  * ```-bf```, ```--batchfixlatlon```
                        Batch Fix Lat/Lon Column Names. Provide full path for
                        directories outside your working directory. Provide
                        '.' if your files are in your current working
                        directory.
  * ```-bm```, ```--batchmergecsv```  Batch merge CSVs of same type. Provide full path for
                        directories outside your working directory. Provide
                        '.' if your files are in your current working
                        directory.